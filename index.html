<!doctype html>
<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <title>Pen</title>
  <link href="https://github.com/assets/github.css" media="all" rel="stylesheet" type="text/css" />
  <style type="text/css">
  body{padding:5% 20px; font-size: 15px;}
  .pen {position: relative; width: 700px; margin: 0 auto; padding: 30px 75px;}
  @media all and (max-width:1024px){ body, pre a{width:60%;} }
  small{color:#999;}
  </style>
  <link rel="stylesheet" href="src/pen.css" />
</head>
<body>

<div class="markdown-body hinted" data-toggle="pen" placeholder="im a placeholder">
  <p>Imagine if every textarea on GitHub could teach people how to use Markdown. Now stop imagining and <b>play with this demo</b>!</p>

  <h2>This is a “textarea”<sup>†</sup></h2>

  <p>Start typing any block-level markdown syntax (like <code>##</code> or <code>*</code>) and press SPACE.</p>

  <ul>
    <li>Ordered and unordered lists are supported.</li>
    <li>Inline markdown is not supported yet.</li>
    <li>Use the toolbar or use markdown syntax like「<b>1. </b>」,「<b>- </b>」or「<b>* </b>」</li>
  </ul>

  <blockquote>You can quote text by typing「<b>&gt;</b>」at line start of the line.</blockquote>

  <pre>Type 「```」 at line start and press SPACE to create a code block.</pre>

  <p>If you want the full WYSIWYG experience, <i>select text</i> to see a toolbar, click items of toolbar to toggle <b>effects</b>.</p>

  <p>This demo is based on a modified version of <a href="https://github.com/sofish/pen#readme" target="_blank">sofish/pen</a>, a "moderately wealthy" WYSIWYG that would be a great foundation for rich textareas on GitHub.
  </p>

  <hr>

  <p>†: <i>It's not really a textarea. It's actually a div that uses <a href="https://developer.mozilla.org/en-US/docs/Rich-Text_Editing_in_Mozilla">contenteditable</a></i></p>
</div>

<script src="src/pen.js"></script>
<script src="src/markdown.js"></script>
<script type="text/javascript">

  // config
  var options = {
    editor: document.querySelector('[data-toggle="pen"]'),
    debug: true
  };

  // create editor
  var pen = new Pen(options);


  // toggle editor mode
  document.querySelector('#mode').addEventListener('click', function() {
    var text = this.textContent;

    if(this.classList.contains('disabled')) {
      this.classList.remove('disabled');
      pen.rebuild();
    } else {
      this.classList.add('disabled');
      pen.destroy();
    }
  });

  // toggle editor mode
  document.querySelector('#hinted').addEventListener('click', function() {
    var pen = document.querySelector('.pen')

    if(pen.classList.contains('hinted')) {
      pen.classList.remove('hinted');
      this.classList.add('disabled');
    } else {
      pen.classList.add('hinted');
      this.classList.remove('disabled');
    }
  });
</script>
<script type="text/javascript">
  var _gauges = _gauges || [];
  (function() {
    var t   = document.createElement('script');
    t.type  = 'text/javascript';
    t.async = true;
    t.id    = 'gauges-tracker';
    t.setAttribute('data-site-id', '52f71410de2e266e130014c7');
    t.src = '//secure.gaug.es/track.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(t, s);
  })();
</script>
</body>
</html>
